<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WAVE LAB</title>
    <link rel="stylesheet" href="//cdn.bootcss.com/mdui/0.3.0/css/mdui.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        .mdui-row{margin:25px 10px;}
        .mdui-card{margin:0px 5px;box-shadow: none;}
        .height-150{height:150px;}
        .height-350{height:350px;}
    </style>
  </head>
  <body class="mdui-theme-primary-indigo mdui-theme-accent-pink">
    <div class="mdui-appbar">
      <div class="mdui-toolbar mdui-color-theme">
        <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">trending_up</i></a>
        <a href="javascript:;" class="mdui-typo-title">WAVE LAB</a>
        <div class="mdui-toolbar-spacer"></div>
        <a href="javascript:;" class="mdui-btn mdui-btn-icon mdui-ripple" mdui-tooltip="{content:'登录'}" mdui-dialog="{target: '#loginbox',closeOnCancel: true,modal: true}"><i class="mdui-icon material-icons">person</i></a>
        <a href="javascript:;" class="mdui-btn mdui-btn-icon mdui-ripple" mdui-tooltip="{content:'注册'}"><i class="mdui-icon material-icons">person_add</i></a>
        <a href="javascript:;" class="mdui-btn mdui-btn-icon mdui-ripple" mdui-tooltip="{content:'分享'}"><i class="mdui-icon material-icons">share</i></a>
        <a href="javascript:;" class="mdui-btn mdui-btn-icon mdui-ripple" mdui-tooltip="{content:'语言'}"><i class="mdui-icon material-icons">language</i></a>
        <a href="javascript:;" class="mdui-btn mdui-btn-icon mdui-ripple" mdui-tooltip="{content:'帮助'}"><i class="mdui-icon material-icons">help</i></a>
      </div>
    </div>
    <div class="mdui-container-fluid">
        <div class="mdui-row">
            <div class="mdui-col-xs-3">
               <div class="mdui-card height-150 gradient-45deg-light-blue-cyan gradient-shadow white-text"><div id="shindex" style="height:100%;width:100%"></div></div> 
            </div>
            <div class="mdui-col-xs-3">
               <div class="mdui-card height-150 gradient-45deg-red-pink gradient-shadow white-text"><div id="szindex" style="height:100%;width:100%"></div></div> 
            </div>
            <div class="mdui-col-xs-3">
               <div class="mdui-card height-150 gradient-45deg-amber-amber gradient-shadow white-text"><div id="zxindex" style="height:100%;width:100%"></div></div> 
            </div>
            <div class="mdui-col-xs-3">
               <div class="mdui-card height-150 gradient-45deg-green-teal gradient-shadow white-text"><div id="cyindex" style="height:100%;width:100%"></div></div> 
            </div>
        </div>
        <div class="mdui-row">
            <div class="mdui-col-xs-6">
                <div id="industry" class="mdui-card height-350"></div>
            </div>
            <div class="mdui-col-xs-3">
                <div id="riseorfall" class="mdui-card height-350"></div>
            </div>
            <div class="mdui-col-xs-3">
                <div id="hot" class="mdui-card height-350"></div>
            </div>
        </div>
        <div class="mdui-row mdui-dialogui-typo-subheading-opacity" style="text-align:center; padding-top:150px; color:#ccc">
            本网站数据全部根据互联网内容自动生成，不构成投资建议。由此造成的任何损失，本网站不负任何责任。股市有风险，投资须谨慎。
        </div>
    </div>
    <div class="mdui-dialog" id="loginbox">
      <div class="mdui-dialog-title">LOGIN</div>
      <div class="mdui-dialog-content">
        <form id="login">
          <div class="mdui-p-a-2" id="login">
            <div class="mdui-textfield mdui-textfield-floating-label">
              <label class="mdui-textfield-label">User name</label>
              <input id="loginname" name="loginname" type="text" class="mdui-textfield-input" value="" />
              <div class="mdui-textfield-error">
                The user name can not be null
              </div>
            </div>
            <div class="mdui-textfield mdui-textfield-floating-label">
              <label class="mdui-textfield-label">Password</label>
              <input id="password" type="password" name="password" class="mdui-textfield-input" value="" />
              <div class="mdui-textfield-error">
                The number of password must be 6,include uper chars please.
              </div>
            </div>
          </div>
        </form>
      <div class="mdui-dialog-actions">
        <button class="mdui-btn mdui-ripple" mdui-dialog-cancel>CANCEL</button>
        <button class="mdui-btn mdui-ripple" mdui-dialog-confirm>LOGIN</button>
      </div>
    </div>
    <script src="/static/js/echarts.min.js"></script>
    <script src="//cdn.bootcss.com/mdui/0.3.0/js/mdui.min.js"></script>
    <script src="/static/js/z.js"></script>
    <script>
      var $ = mdui.JQ;
      var chartIndustry = echarts.init(document.getElementById('industry'));
        var xAxisData = [];
        var data1 = [];
        for (var i = 0; i < 25; i++) {
            xAxisData.push('类目' + i);
            data1.push((Math.sin(i / 5) * (i / 5 -10) + i / 6) * 5);
        }

        optionIndustry = {
            title: {
                text: '行业',
                textStyle:{color:'#666'}
            },
            grid: {
                top:'13%',bottom:'15%',left:'3%',right:'1%'
                  },
            xAxis: {
                axisLabel:{rotate:45},
                data: xAxisData,
                silent: false,
                splitLine: {
                    show: false
                }
            },
            yAxis: {
            },
            series: [{
                name: 'bar',
                type: 'bar',
                data: data1,
                //itemStyle: {normal:{color:'rgba(255,0,0,0.7)',shadowColor:'rgba(0,0,0,0.5)',shadowOffsetX:2,shadowOffsetY:2,shadowBlur:5},
                itemStyle: {normal:{shadowColor:'rgba(0,0,0,0.5)',shadowOffsetX:2,shadowOffsetY:2,shadowBlur:5,
                color: function(params){
                    var colorList;
                    if (params.data >= 0){
                        colorList = '#ef232a';
                    } else {
                        colorList = '#14b143';
                    }
                    return colorList;
                }},
                emphasis:{shadowColor:'rgba(0,0,0,0.7)',shadowOffsetX:2,shadowOffsetY:2,shadowBlur:6}},
                animationDelay: function (idx) {
                    return idx * 30;
                }
            }],
            animationEasing: 'elasticOut',
            animationDelayUpdate: function (idx) {
                return idx * 5;
            }
        };
        chartIndustry.setOption(optionIndustry);

      var chartRiseOrFall = echarts.init(document.getElementById('riseorfall'));
        optionRiseOrFall = {
            title: {
                        text: '涨跌分布',
                        textStyle:{color:'#666'}
                   }, 
            visualMap: {
                show: false,
                min: 80,
                max: 600,
                inRange: {
                    colorLightness: [0, 1]
                }
            },
            series : [
                {
                    name: '访问来源',
                    type: 'pie',
                    radius: '55%',
                    animationDelay: function(idx){return idx * 100},
                    data:[
                        {value:235, name:'视频广告'},
                        {value:274, name:'联盟广告'},
                        {value:310, name:'邮件营销'},
                        {value:335, name:'直接访问'},
                        {value:400, name:'搜索引擎'}
                    ],
                    roseType: 'angle',
                    label: {
                        normal: {
                            textStyle: {
                                color: 'rgba(10, 10, 10, 0.8)'
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            lineStyle: {
                                color: 'rgba(10, 10, 10, 0.8)'
                            }
                        }
                    },
                    itemStyle: {
                        normal: {
                            color: '#c23531',
                            shadowBlur: 40,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };
        chartRiseOrFall.setOption(optionRiseOrFall);
      var chartHot = echarts.init(document.getElementById('hot'));
        optionHot = {
            title: {
                text: '热点投资',
                textStyle:{color:'#666'}
            },
            tooltip: {
                trigger: 'axis'
            },
            radar: [
                {
                    indicator: (function (){
                        var res = [];
                        for (var i = 1; i <= 6; i++) {
                            res.push({text:i+'月',max:100});
                        }
                        return res;
                    })(),
                    center: ['50%','50%'],
                    radius: 110
                }
            ],
            series: [
                {
                    type: 'radar',
                    radarIndex: 0,
                    itemStyle: {normal: {areaStyle: {type: 'default',}}},
                    lineStyle: {normal: {color: 'rgba(102,153,255,0.8)'}},
                    areaStyle: {normal:{color: 'rgba(153,187,255,0.8)',shadowColor:'rgba(0,0,0,1)',shadowOffsetX:10,shadowOffsetY:10,shadowBlur:40}},
                    animationDelay: function(idx){return idx * 170},
                    data: [
                        {
                            name:'蒸发量',
                            value:[23.2, 25.6, 76.7, 35.6, 62.2, 32.6]
                        }
                    ]
                }
            ]
        };
        chartHot.setOption(optionHot);

        var chartSH = echarts.init(document.getElementById('shindex'));
        var base = +new Date(2017, 9, 3);
        var oneDay = 24 * 3600 * 1000;
        var date = [];

        var data = [Math.random() * 30];

        for (var i = 1; i < 30; i++) {
            var now = new Date(base += oneDay);
            date.push([now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'));
            data.push(Math.round((Math.random() - 0.5) * 20 + data[i - 1]));
        }
        
optionSH = {
title: {
text: '上证指数-SH000001',
      link: '/detail/?stockcode=sh000001',
      target: 'black',
      textStyle:{
        color:'#eee',
      }
       },
    tooltip: {
        trigger: 'axis',
        position: ['1%', '15%'],
        backgroundColor: ''
    },
grid: {top:0,left:0,bottom:0,right:0},
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: date,
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false}
    },
    yAxis: {
        type: 'value',
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false},
        boundaryGap: [0, '100%']
    },
    series: [
        {
            name:'指数',
            type:'line',
            smooth:false,
            symbol: 'none',
            sampling: 'average',
            itemStyle: {
                normal: {
                    color: 'rgb(204, 255, 51)'
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: 'rgba(255, 255, 255, 0.2)'
                    }, {
                        offset: 1,
                        color: 'rgba(255, 255, 255, 0.5)'
                    }])
                }
            },
            data: data,
            animationDelay: function(idx){return idx * 50}
        }
    ]
};
chartSH.setOption(optionSH);

var chartSZ = echarts.init(document.getElementById('szindex'));
        
optionSZ = {
title: {
text: '深证成指-SZ399001',
      link: '/detail/?stockcode=sz399001',
      target: 'black',
      textStyle:{
        color:'#eee',
      }
       },
    tooltip: {
        trigger: 'axis',
        position: ['1%', '15%'],
        backgroundColor: ''
    },
grid: {top:0,left:0,bottom:0,right:0},
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: date,
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false}
    },
    yAxis: {
        type: 'value',
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false},
        boundaryGap: [0, '100%']
    },
    series: [
        {
            name:'指数',
            type:'line',
            smooth:false,
            symbol: 'none',
            sampling: 'average',
            itemStyle: {
                normal: {
                    color: 'rgb(204, 255, 51)'
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: 'rgba(255, 255, 255, 0.2)'
                    }, {
                        offset: 1,
                        color: 'rgba(255, 255, 255, 0.5)'
                    }])
                }
            },
            data: data,
            animationDelay: function(idx){return idx * 70}
        }
    ]
};
        chartSZ.setOption(optionSZ);
var chartZX = echarts.init(document.getElementById('zxindex'));
        
optionZX = {
title: {
text: '中小板指-SZ399005',
      link: '/detail/?stockcode=sz399005',
      target:'black',
      textStyle:{
        color:'#eee',
      }
       },
    tooltip: {
        trigger: 'axis',
        position: ['1%', '15%'],
        backgroundColor: ''
    },
grid: {top:0,left:0,bottom:0,right:0},
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: date,
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false}
    },
    yAxis: {
        type: 'value',
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false},
        boundaryGap: [0, '100%']
    },
    series: [
        {
            name:'指数',
            type:'line',
            smooth:false,
            symbol: 'none',
            sampling: 'average',
            itemStyle: {
                normal: {
                    color: 'rgb(204, 255, 51)'
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: 'rgba(255, 255, 255, 0.2)'
                    }, {
                        offset: 1,
                        color: 'rgba(255, 255, 255, 0.5)'
                    }])
                }
            },
            data: data,
            animationDelay: function(idx){return idx * 40 + 300}
        }
    ]
};
        chartZX.setOption(optionZX);
var chartCY = echarts.init(document.getElementById('cyindex'));
        
optionCY = {
title: {
text: '创业板指-SZ399006',
      link: '/detail/?stockcode=sz399006',
      target:'black',
      textStyle:{
        color:'#eee',
      }
       },
    tooltip: {
        trigger: 'axis',
        position: ['1%', '15%'],
        backgroundColor: ''
    },
grid: {top:0,left:0,bottom:0,right:0},
    xAxis: {
        type: 'category',
        boundaryGap: false,
        data: date,
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false}
    },
    yAxis: {
        type: 'value',
        axisLine:{show:false},
        axisTick:{show:false},
        axisLabel:{show:false},
        boundaryGap: [0, '100%']
    },
    series: [
        {
            name:'指数',
            type:'line',
            smooth:false,
            symbol: 'none',
            sampling: 'average',
            itemStyle: {
                normal: {
                    color: 'rgb(204, 255, 51)'
                }
            },
            areaStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: 'rgba(255, 255, 255, 0.2)'
                    }, {
                        offset: 1,
                        color: 'rgba(255, 255, 255, 0.5)'
                    }])
                }
            },
            data: data,
            animationDelay: function(idx){return idx * 50 + 200}
        }
    ]
};
        chartCY.setOption(optionCY);
      $('#loginbox').on('confirm.mdui.dialog',function(){
                  $.ajax({
                        url : '/ajax', 
                        method : 'POST', 
                        action : 'login', 
                        dataType : 'json', 
                        data : {
                            action : 'login', 
                            loginname : $('#loginname').val(), 
                            password : $('#password').val()
                        }, 
                        success : function (data) {
                            if (data.status == 1) {
                                Z.cookie.set('loginname', data.loginname, 365);
                                Z.cookie.set('token', data.token, 365);
                                window.location.href = '/home/';
                            }
                            else {
                                mdui.alert('Login failed. Please try again.');
                            }
                        }
                      });
      });
    </script>
  </body>
</html>
